{"ast":null,"code":"var _jsxFileName = \"D:\\\\D\\\\uni\\\\projekt\\\\fiszki-dla-niemych\\\\react\\\\src\\\\assets\\\\Pages\\\\Form.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport styled from \"styled-components\";\nimport Button from \"../components/styled/Button.styled\";\nimport H3 from \"../components/styled/H3.styled\";\nimport { Colors, TextStyles } from \"../Theme\";\nimport { useHistory } from \"react-router\";\nimport { useDispatch } from \"react-redux\";\nimport authSlice from \"../store/Auth\";\nimport { useFormik } from \"formik\";\nimport { Link } from 'react-router-dom';\nimport { useContext, useRef } from \"react\";\nimport { Context } from '../../context/Context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FormSection = styled.div`\n\n  padding: 6rem 30rem;\n\n`;\n_c = FormSection;\nconst Wrapper = styled.div`\n    background-size: cover;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n`;\n_c2 = Wrapper;\nconst AppEl = styled.div`\n  display: flex;\n  ustify-content: center;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  height: 60vh;\n  width: 30vw;\n  background: rgba(255, 255, 255, 0.15);\n  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);\n  backdrop-filter: blur(100rem);\n  -webkit-backdrop-filter: blur(100rem);\n  border-radius: 10px;\n  color: #ffffff;\n  text-transform: uppercase;\n  letter-spacing: 0.4rem;\n`;\n_c3 = AppEl;\nconst WelcomeText = styled(H3)`\n  margin: 4rem 0 4rem 0;\n  color: ${Colors.Brand.Text};\n`;\n_c4 = WelcomeText;\nconst InputContainer = styled.div`\n  row-gap: 1rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  height: 40%;\n  width: 100%;\n  text-color: ${Colors.Brand.Text};\n`;\n_c5 = InputContainer;\nconst ButtonContainer = styled.div`\n  margin: 3rem 0 2rem 0;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n_c6 = ButtonContainer;\nconst ButtonContainer2 = styled.div`\n  margin: em 0 2rem 0;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n_c7 = ButtonContainer2;\nconst StyledInput = styled.input`\n  background: rgba(255, 255, 255, 0.15);\n  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);\n  border-radius: 2rem;\n  border-color: ${Colors.Brand.Button};\n  width: 100%;\n  height: 3rem;\n  padding: 1rem;\n  border: none;\n  outline: none;\n  color: ${Colors.Brand.Text};\n  font-size: 1rem;\n  font-weight: bold;\n  &:focus {\n    display: inline-block;\n    box-shadow: 0 0 0 0.2rem #6B10B1;\n    backdrop-filter: blur(12rem);\n    border-radius: 2rem;\n  }\n  &::placeholder {\n    color: ${Colors.Brand.Text};\n    font-weight: 100;\n    font-size: 1rem;\n  }\n`;\n_c8 = StyledInput;\n\nfunction Form() {\n  _s();\n\n  const userRef = useRef();\n  const passwordRef = useRef();\n  const {\n    dispatch,\n    isFetching\n  } = useContext(Context);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    dispatch({\n      type: \"LOGIN_START\"\n    });\n\n    try {\n      const res = await axios.post('http://127.0.0.1:8000/api/auth/login/', {\n        username: userRef.current.value,\n        password: passwordRef.current.value\n      });\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: res.data\n      });\n    } catch (err) {\n      dispatch({\n        type: \"LOGIN_FAILURE\"\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: /*#__PURE__*/_jsxDEV(FormSection, {\n      children: [/*#__PURE__*/_jsxDEV(AppEl, {\n        children: [/*#__PURE__*/_jsxDEV(WelcomeText, {\n          children: \"Zaloguj si\\u0119\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(InputContainer, {\n            children: [/*#__PURE__*/_jsxDEV(StyledInput, {\n              type: \"email\",\n              placeholder: \"Email\",\n              name: \"email\",\n              ref: userRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(StyledInput, {\n              type: \"password\",\n              placeholder: \"Has\\u0142o\",\n              name: \"password\",\n              ref: passwordRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(ButtonContainer, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              disabled: isFetching,\n              children: \"Zaloguj si\\u0119\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"zarejestruj\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Nie posiadasz konta? \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"register\",\n          children: /*#__PURE__*/_jsxDEV(ButtonContainer2, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              disabled: isFetching,\n              children: \"Zarejestruj si\\u0119\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 41\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Form, \"068LEokfaleFcjBxhuLwoVqedIQ=\");\n\n_c9 = Form;\nexport default Form;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n\n$RefreshReg$(_c, \"FormSection\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"AppEl\");\n$RefreshReg$(_c4, \"WelcomeText\");\n$RefreshReg$(_c5, \"InputContainer\");\n$RefreshReg$(_c6, \"ButtonContainer\");\n$RefreshReg$(_c7, \"ButtonContainer2\");\n$RefreshReg$(_c8, \"StyledInput\");\n$RefreshReg$(_c9, \"Form\");","map":{"version":3,"sources":["D:/D/uni/projekt/fiszki-dla-niemych/react/src/assets/Pages/Form.js"],"names":["React","useState","axios","styled","Button","H3","Colors","TextStyles","useHistory","useDispatch","authSlice","useFormik","Link","useContext","useRef","Context","FormSection","div","Wrapper","AppEl","WelcomeText","Brand","Text","InputContainer","ButtonContainer","ButtonContainer2","StyledInput","input","Form","userRef","passwordRef","dispatch","isFetching","handleSubmit","e","preventDefault","type","res","post","username","current","value","password","payload","data","err"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport styled from \"styled-components\";\r\nimport Button from \"../components/styled/Button.styled\";\r\nimport H3 from \"../components/styled/H3.styled\";\r\nimport { Colors, TextStyles } from \"../Theme\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport authSlice from \"../store/Auth\";\r\nimport { useFormik } from \"formik\";\r\nimport { Link } from 'react-router-dom';\r\nimport { useContext, useRef } from \"react\";\r\nimport { Context } from '../../context/Context';\r\n\r\n\r\n\r\nconst FormSection = styled.div`\r\n\r\n  padding: 6rem 30rem;\r\n\r\n`;\r\nconst Wrapper = styled.div`\r\n    background-size: cover;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding: 0;\r\n    margin: 0;\r\n    box-sizing: border-box;\r\n`\r\n\r\nconst AppEl = styled.div`\r\n  display: flex;\r\n  ustify-content: center;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  height: 60vh;\r\n  width: 30vw;\r\n  background: rgba(255, 255, 255, 0.15);\r\n  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);\r\n  backdrop-filter: blur(100rem);\r\n  -webkit-backdrop-filter: blur(100rem);\r\n  border-radius: 10px;\r\n  color: #ffffff;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.4rem;\r\n`;\r\nconst WelcomeText = styled(H3)`\r\n  margin: 4rem 0 4rem 0;\r\n  color: ${Colors.Brand.Text};\r\n`;\r\nconst InputContainer = styled.div`\r\n  row-gap: 1rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  height: 40%;\r\n  width: 100%;\r\n  text-color: ${Colors.Brand.Text};\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  margin: 3rem 0 2rem 0;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst ButtonContainer2 = styled.div`\r\n  margin: em 0 2rem 0;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  background: rgba(255, 255, 255, 0.15);\r\n  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);\r\n  border-radius: 2rem;\r\n  border-color: ${Colors.Brand.Button};\r\n  width: 100%;\r\n  height: 3rem;\r\n  padding: 1rem;\r\n  border: none;\r\n  outline: none;\r\n  color: ${Colors.Brand.Text};\r\n  font-size: 1rem;\r\n  font-weight: bold;\r\n  &:focus {\r\n    display: inline-block;\r\n    box-shadow: 0 0 0 0.2rem #6B10B1;\r\n    backdrop-filter: blur(12rem);\r\n    border-radius: 2rem;\r\n  }\r\n  &::placeholder {\r\n    color: ${Colors.Brand.Text};\r\n    font-weight: 100;\r\n    font-size: 1rem;\r\n  }\r\n`;\r\n\r\nfunction Form(){\r\n  const userRef = useRef();\r\n  const passwordRef = useRef();\r\n  const { dispatch, isFetching } = useContext(Context);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    dispatch({ type: \"LOGIN_START\" });\r\n    try {\r\n      const res = await axios.post('http://127.0.0.1:8000/api/auth/login/', {\r\n        username: userRef.current.value,\r\n        password: passwordRef.current.value,\r\n      });\r\n      dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\r\n    } catch (err) {\r\n      dispatch({ type: \"LOGIN_FAILURE\" });\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <Wrapper>\r\n    <FormSection>\r\n      <AppEl>\r\n        <WelcomeText>Zaloguj się</WelcomeText>\r\n        <form onSubmit={handleSubmit}>\r\n          <InputContainer>\r\n            <StyledInput\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              name=\"email\"\r\n              ref={userRef}\r\n            />\r\n            <StyledInput\r\n              type=\"password\"\r\n              placeholder=\"Hasło\"\r\n              name=\"password\"\r\n              ref={passwordRef}\r\n            />\r\n          </InputContainer>\r\n\r\n          <ButtonContainer>\r\n            <Button type=\"submit\" disabled={isFetching}>\r\n              Zaloguj się\r\n            </Button>\r\n          </ButtonContainer>\r\n         \r\n        </form>\r\n        \r\n      </AppEl>\r\n      <div className='zarejestruj'>\r\n            <p>Nie posiadasz konta? </p><Link to=\"register\">\r\n            <ButtonContainer2>\r\n            <Button type=\"submit\" disabled={isFetching}>\r\n              Zarejestruj się\r\n            </Button>\r\n          </ButtonContainer2>\r\n\t\t\t\t\t\t  </Link>\r\n        </div>\r\n  </FormSection>\r\n  </Wrapper>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n\r\n  \r\n\r\n\r\n\r\n "]},"metadata":{},"sourceType":"module"}